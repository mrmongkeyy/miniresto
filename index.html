<head>
	<title>Mini Resto: Game simulator menyenangkan!</title>
	<meta name="viewport" 
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <script src="https://integration.gamepix.com/sdk/v3/gamepix.sdk.js"></script>
</head>
<style>
	@font-face{
		font-family: 'winterdrink';
		src:url('./more/assets/font/Winter Drink.ttf');
	}
	body{
		padding:0;
		margin: 0;
		display: flex;
		justify-content: center;
		align-items: center;
		background: #205295;
		overflow: hidden;
		font-family: 'winterdrink';
		user-select: none;-webkit-tap-highlight-color: rgba(255, 255, 255, 0);
	}
	img{
		-webkit-user-drag: none;
	}
	canvas{
		image-rendering: pixelated;
		cursor: none;
		border:2px solid white;
		border-radius: 10px;
	}
	#gamenav div:hover{
		color:#2196f3;
	}
	@media screen and (max-width:600px){
		canvas{
			border: none;
		}
	}
</style>
<body>
	<div id=loadingscreen style="
		position: absolute;
		top:0;
		left:0;
		width:100%;
		height: 100%;
		background: #205295;
		display: flex;
		font-size: 24px;
		font-weight: bold;
		align-items: center;
		flex-direction: column;justify-content: center;
		gap: 10px;
		color:white;z-index: 2;cursor: default;
	">
		<div>neonstudio present</div>
		<div style=font-size:12px; id=loadingpercent>loading assets 90%...</div>
	</div>
	<div id=mainMenu style="
		position: absolute;
		top:0;
		left:0;
		width:100%;
		height: 100%;
		background: #205295;
		display: flex;
		font-size: 24px;
		font-weight: bold;
		align-items: center;
		flex-direction: column;justify-content: center;
		gap: 10px;
		color:white;z-index: 1;cursor: default;
	">
		<div>
			<img src=./more/assets/minirestoicon.png>
		</div>
		<div>
			Mini Resto
		</div>
		<div style="
			font-size: 12px;
	    color: #2196f3;
		">Bisnis resto simulator: Kembangkan bisnismu!!!</div>
		<div style="
			margin-top:20px;
			text-align: center;
			display: flex;
			gap: 10px;
			flex-direction: column;
			font-size: 16px;
		" id=gamenav>
			<div style="
				padding:10px;
				border-radius: 10px;cursor: pointer;
			" onclick=play(this,false)>Game Baru</div>
			<div id=continuebutton style="
				padding:10px;
				border-radius: 10px;cursor: pointer;
			" onclick=play(this,true)>Lanjutkan</div>
			<div id=continuebutton style="
				padding:10px;
				border-radius: 10px;cursor: pointer;
			" onclick=play(this,true) hidden>Tutorial</div>
			<div id=continuebutton style="
				padding:10px;
				border-radius: 10px;cursor: pointer;
			" onclick=play(this,true) hidden>LeaderBoard</div>
		</div>
		<div style="
			font-size: 11px;
			bottom:32px;
			position: absolute;
		">&copy 2024 neonstudio. Allright served.</div>
	</div>
	<div id=gameOver style="
		position: absolute;
		top:0;
		left:0;
		width:100%;
		height: 100%;
		background: #205295;
		display: none;
		font-size: 24px;
		font-weight: bold;
		align-items: center;
		flex-direction: column;justify-content: center;
		gap: 10px;
		color:white;z-index: 1;cursor: default;
	">
		<div>
			<img src=./more/assets/gameoverimglabel.png>
		</div>
		<div>
			Game Over!
		</div>
		<div style="
			font-size: 12px;
	    color: #2196f3;
		" id=go-message-label>Bisnis resto simulator: Kembangkan bisnismu!!!</div>
		<div style="
			margin-top:20px;
			text-align: center;
			display: flex;
			gap: 10px;
			flex-direction: column;
			font-size: 16px;
		" id=gamenav>
			<div style="
				padding:10px;
				border-radius: 10px;cursor: pointer;
			" onclick=newGame(true)>New Game</div>
			<div id=continuebutton style="
				padding:10px;
				border-radius: 10px;cursor: pointer;
			" onclick=play(this,true)>Main Menu</div>
		</div>
		<div style="
			font-size: 11px;
			bottom:32px;
			position: absolute;
		">&copy 2024 neonstudio. Allright served.</div>
	</div>
</body>
<script src=./more/scripts/utils.js></script>
<script src=./more/scripts/engine.js></script>
<script>
	const saveData=JSON.parse(GamePix.localStorage.getItem("minirestosavedata")),globalPlayerScore=0,globalPlayerLevel=1;saveData||find("#continuebutton").remove();const newGame=e=>{e&&(find("#gameover").hide(),engine.globalObjects.game.newGame())},play=async(e,i=!1)=>{const t=new FontFace("gamefont",'url("./more/assets/font/Winter Drink.ttf")'),a=await t.load();document.fonts.add(a),i&&saveData?(engine.globalObjects.game.stats=saveData.stats,engine.globalObjects.game.stufStok=saveData.stufStok,engine.globalObjects.game.prive=saveData.prive,engine.globalObjects.game.payingPriveTime=saveData.payingPriveTime):GamePix.localStorage.removeItem("minirestosavedata"),engine.globalObjects.game.run=!0,engine.paused&&(engine.globalObjects.game.newGame(),engine.resume()),engine.assets.audio.bgmusic.play(),find("#mainMenu").hide()},showGameOver=async e=>{find("#go-message-label").innerHTML=e,find("#gameover").show()},showMainMenu=async()=>{find("#mainMenu").show("flex")},save=()=>{GamePix.localStorage.setItem("minirestosavedata",JSON.stringify({stufStok:engine.globalObjects.game.stufStok,stats:engine.globalObjects.game.stats,prive:engine.globalObjects.game.prive,payingPriveTime:engine.globalObjects.game.payingPriveTime}))},engine=new Engine({dev:0,displayLoadPercent(e){find("#loadingpercent").innerHTML=`loading assets ${e}%...`,100===e&&find("#loadingscreen").remove()},toLoad:[{id:"bgmusic",type:"audio",src:"./more/assets/audios/bgmusic.mp3",loop:!0},{id:"gameover",type:"audio",src:"./more/assets/audios/gameover.wav"},{id:"tap",type:"audio",src:"./more/assets/audios/tap.wav"},{id:"points",type:"audio",src:"./more/assets/audios/points.wav"},{id:"normalcursor",type:"img",src:"./more/assets/neocursor.png"},{id:"chef",type:"img",src:"./more/assets/chef.png"},{id:"backchef",type:"img",src:"./more/assets/chef.png"},{id:"receptionist",type:"img",src:"./more/assets/secretary.png"},{id:"servebutton",type:"img",src:"./more/assets/sajikan.png"},{id:"kentanggoreng",type:"img",src:"./more/assets/kentanggoreng1.png"},{id:"pizza",type:"img",src:"./more/assets/pizza1.png"},{id:"hamburger",type:"img",src:"./more/assets/hamburger1.png"},{id:"pie",type:"img",src:"./more/assets/pie1.png"},{id:"nachos",type:"img",src:"./more/assets/nachos1.png"},{id:"hotdog",type:"img",src:"./more/assets/hotdog1.png"},{id:"jagung",type:"img",src:"./more/assets/jagung1.png"},{id:"cupcake",type:"img",src:"./more/assets/cupcake1.png"},{id:"nasigoreng",type:"img",src:"./more/assets/nasigoreng.png"},{id:"moneyicon",type:"img",src:"./more/assets/moneyicon.png"},{id:"trash",type:"img",src:"./more/assets/trashicon.png"},{id:"senang",type:"img",src:"./more/assets/senangicon.png"},{id:"marah",type:"img",src:"./more/assets/marahicon.png"},{id:"timeup",type:"img",src:"./more/assets/timeup.png"},{id:"timeup1",type:"img",src:"./more/assets/timeup1.png"},{id:"visitor1",type:"img",src:"./more/assets/visitor/1.png"},{id:"visitor2",type:"img",src:"./more/assets/visitor/2.png"},{id:"visitor3",type:"img",src:"./more/assets/visitor/3.png"},{id:"visitor4",type:"img",src:"./more/assets/visitor/4.png"},{id:"visitor5",type:"img",src:"./more/assets/visitor/5.png"},{id:"visitor6",type:"img",src:"./more/assets/visitor/6.png"},{id:"market",type:"img",src:"./more/assets/store.png"},{id:"quitgame",type:"img",src:"./more/assets/quitgameicon.png"},{id:"levelup",type:"img",src:"./more/assets/levelup.png"},{id:"bank",type:"img",src:"./more/assets/bank.png"}],canvasSettings:{width:360,height:640,background:"#205295",mobileResponsive:!0}}),eatingRoom=engine.newScene("eatingRoom");engine.changeScene("eatingRoom"),eatingRoom.addObject(engine.newObject("game",null,null,{position:vector2(0,0),navigations:[],state:1,run:!1,tablesScheme:[3,3],tables:[],cookingmachine:[],newGame(){this.stats=this.oldStats,this.stufStok=this.oldStufStok,this.tables=[],this.generateTables(),this.buttons=this.tables.concat(this.navigations,this.cookingmachine,this.store,this.upgradeStore,this.bank),this.prive=0,this.payingPriveTime=0,this.engine.assets.audio.bgmusic.play(),this.run=!0},cursor:{state:"normal",position:engine.getCanvasCenter(),size:vector2(32,32),draw(e){e.engine.g.sprite(e.engine.assets.img[`${this.state}cursor`],this.position,this.size)},update(e){this.position=e.engine.getNormalizedMousePos()}},headerUi:[],stats:{happy:0,anger:0,timeup:0,money:0,levelup:1},oldStats:{happy:0,anger:0,timeup:0,money:0,levelup:1},statsAchieves:[],oldStufStok:{nasigoreng:{left:10,price:1e4,storePrice:8500,leftMax:10,upgradeValue:10,upgradePrice:5e4},jagung:{left:10,price:5e3,storePrice:3e3,leftMax:10,upgradeValue:10,upgradePrice:5e4},nachos:{left:10,price:3e3,storePrice:1500,leftMax:10,upgradeValue:10,upgradePrice:5e4},pizza:{left:10,price:2e4,storePrice:15e3,leftMax:10,upgradeValue:10,upgradePrice:5e4},hotdog:{left:10,price:5e3,storePrice:3500,leftMax:10,upgradeValue:10,upgradePrice:5e4},pie:{left:10,price:1e4,storePrice:7e3,leftMax:10,upgradeValue:10,upgradePrice:5e4},cupcake:{left:10,price:15e3,storePrice:1e4,leftMax:10,upgradeValue:10,upgradePrice:5e4},hamburger:{left:10,price:5e3,storePrice:3e3,leftMax:10,upgradeValue:10,upgradePrice:5e4},kentanggoreng:{left:10,price:1e4,storePrice:8e3,leftMax:10,upgradeValue:10,upgradePrice:5e4}},stufStok:{nasigoreng:{left:10,price:1e4,storePrice:8500,leftMax:10,upgradeValue:10,upgradePrice:5e4},jagung:{left:10,price:5e3,storePrice:3e3,leftMax:10,upgradeValue:10,upgradePrice:5e4},nachos:{left:10,price:3e3,storePrice:1500,leftMax:10,upgradeValue:10,upgradePrice:5e4},pizza:{left:10,price:2e4,storePrice:15e3,leftMax:10,upgradeValue:10,upgradePrice:5e4},hotdog:{left:10,price:5e3,storePrice:3500,leftMax:10,upgradeValue:10,upgradePrice:5e4},pie:{left:10,price:1e4,storePrice:7e3,leftMax:10,upgradeValue:10,upgradePrice:5e4},cupcake:{left:10,price:15e3,storePrice:1e4,leftMax:10,upgradeValue:10,upgradePrice:5e4},hamburger:{left:10,price:5e3,storePrice:3e3,leftMax:10,upgradeValue:10,upgradePrice:5e4},kentanggoreng:{left:10,price:1e4,storePrice:8e3,leftMax:10,upgradeValue:10,upgradePrice:5e4}},generateHeaderUi(){const e=this.engine.getCanvasInfo();this.headerUi.push({position:vector2(e.width/2,32),size:vector2(e.width,64),fill:!0,color:"#205295"}),this.headerUi.push({position:vector2(1*e.width/10,24),size:vector2(26,26),fill:!0,color:"#205295",img:"moneyicon",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.headerUi.push({position:vector2(1*e.width/10,54),size:"12px",fontStyle:"Calibri",fill:!0,color:"#205295",text:"money",isMoney:!0}),this.headerUi.push({position:vector2(3*e.width/10,24),size:vector2(24,24),fill:!0,color:"#205295",img:"senang",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.headerUi.push({position:vector2(3*e.width/10,54),size:"12px",fontStyle:"Calibri",fill:!0,color:"#205295",text:"happy"}),this.headerUi.push({position:vector2(5*e.width/10,24),size:vector2(24,24),fill:!0,color:"#205295",img:"marah",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.headerUi.push({position:vector2(5*e.width/10,54),size:"12px",fontStyle:"Calibri",fill:!0,color:"#205295",text:"anger"}),this.headerUi.push({position:vector2(7*e.width/10,24),size:vector2(24,24),fill:!0,color:"#205295",img:"timeup",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.headerUi.push({position:vector2(7*e.width/10,54),size:"12px",fontStyle:"Calibri",fill:!0,color:"#205295",text:"timeup"}),this.headerUi.push({position:vector2(9*e.width/10,24),size:vector2(24,24),fill:!0,color:"#205295",img:"levelup",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.headerUi.push({position:vector2(9*e.width/10,54),size:"12px",fontStyle:"Calibri",fill:!0,color:"#205295",text:"levelup"});this.headerUi.push({position:vector2(e.width/2,3*e.height-e.height/2-50+132-420),size:vector2(26,26),fill:!0,color:"#205295",img:"moneyicon",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2,hideBox2d:!0}),this.headerUi.push({position:vector2(e.width/2,3*e.height-e.height/2-50+132-420+25),size:"12px",fontStyle:"Calibri",fill:!0,color:"#205295",text:"money",hideBox2d:!0,isMoney:!0}),this.headerUi.push({position:vector2(e.width/2,4*e.height-e.height/2-50+132-420-50),size:vector2(26,26),fill:!0,color:"#205295",img:"moneyicon",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2,hideBox2d:!0}),this.headerUi.push({position:vector2(e.width/2,4*e.height-e.height/2-50+132-420-25),size:"12px",fontStyle:"Calibri",fill:!0,color:"#205295",text:"money",hideBox2d:!0,isMoney:!0}),this.headerUi.push({position:vector2(e.width/2,5*e.height-e.height/2-50+132-420-124),size:vector2(26,26),fill:!0,color:"#205295",img:"levelup",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2,hideBox2d:!0}),this.headerUi.push({position:vector2(e.width/2,5*e.height-e.height/2-50+132-420-105),size:"12px",fontStyle:"Calibri",fill:!0,color:"#205295",text:"levelup",hideBox2d:!0,isMoney:!0}),this.headerUi.push({position:vector2(1*e.width/4,4*e.height-136-88),size:vector2(26,26),fill:!0,color:"#205295",img:"moneyicon",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2,hideBox2d:!0}),this.headerUi.push({position:vector2(1*e.width/4,4*e.height-136-60),size:"12px",fontStyle:"Calibri",fill:!0,color:"#205295",text:"money",hideBox2d:!0,isMoney:!0})},generateCustomerNeed(){const e=[],i=["pie","pizza","hotdog","cupcake","nasigoreng","jagung","nasigoreng","kentanggoreng","hamburger","nachos"];for(let t=0;t<3;t++)e.push(i[Math.floor(Math.random()*i.length)]);return e},gameOver(e){this.run=!1,save();for(let e in this.engine.assets.audio)this.engine.assets.audio[e].pause();this.engine.assets.audio.gameover.play(),showGameOver(e)},generateTables(){const e=(this.engine.config.canvasSettings.width||this.engine.canvasSettings.width)/this.tablesScheme[1],i=(this.engine.config.canvasSettings.height||this.engine.canvasSettings.height)/(this.tablesScheme[0]+1),t=e/2,a=i/2;for(let s=0;s<this.tablesScheme[0];s++)for(let o=0;o<this.tablesScheme[1];o++){const n={table:!0,visitorId:`visitor${Math.floor(6*Math.random())+1}`,getVisitorId(){let e=`visitor${Math.floor(6*Math.random())+1}`;for(;e===this.visitorId;)e=`visitor${Math.floor(6*Math.random())+1}`;return e},waitTime:30,waitTimeReset(e=!1){if(!e)return this.waitTime=30;this.waitTime=this.waitTime+30+.05*engine.globalObjects.game.stats.happy},powerUp:0,powerUpValue:0,color:"gray",fill:!1,position:vector2(t+o*e,a+i*s+64),normalButtonSize:vector2(e-16,i-16),bigButtonSize:vector2(e-8,i-8),size:vector2(e-16,i-16),objective:this.generateCustomerNeed(),showedTimeLeft:150,defaultShowedTimeLeft:150,showedExpressionLeftTime:50,defaultShowedExpressionLeftTime:50,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2,getPowerUp(){const e=[0,0,0,0,0,0,0,0,0,1,2,3,4,5];this.powerUp=e[Math.floor(Math.random()*e.length)],this.powerUp&&(this.powerUpValue=Math.floor(50*Math.random())+11)}};n.getPowerUp(),this.tables.push(n)}},generateNavigationButtons(){const e=this.engine.getCanvasInfo();this.navigations.push({position:vector2(1*e.width/6,e.height-32),size:vector2(e.width/3,64),id:"quitgame",color:"gray",fill:!0,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.navigations.push({position:vector2(3*e.width/6,e.height-32),size:vector2(e.width/3,64),id:"receptionist",color:"gray",fill:!0,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.navigations.push({position:vector2(5*e.width/6,e.height-32),size:vector2(e.width/3,64),id:"chef",color:"gray",fill:!0,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.navigations.push({position:vector2(1*e.width/6,2*e.height-32-68+5),size:vector2(e.width/3,64),id:"servebutton",color:"gray",fill:!0,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.navigations.push({position:vector2(3*e.width/6,2*e.height-32-68+5),size:vector2(e.width/3,64),id:"trash",color:"gray",fill:!0,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.navigations.push({position:vector2(5*e.width/6,2*e.height-32-68+5),size:vector2(e.width/3,64),id:"market",color:"gray",fill:!0,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.navigations.push({position:vector2(1*e.width/4,3*e.height-136-20),size:vector2(e.width/2,64),id:"levelup",color:"gray",fill:!0,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.navigations.push({position:vector2(3*e.width/4,3*e.height-136-20),size:vector2(e.width/2,64),id:"bank",color:"gray",fill:!0,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.navigations.push({position:vector2(3*e.width/4,4*e.height-136-82),size:vector2(e.width/2,64),id:"receptionist",color:"gray",fill:!0,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2})},cookingMachineItemSelectorPointer:3,generateCookingMachine(){const e=this.engine.getCanvasInfo();this.cookingmachine.push({position:vector2(e.width/6,2*e.height-e.height/2-260+16),size:vector2(e.width/3-11,105),fill:!0,color:"white",tag:"cookingmachine",boxmaker:!0}),this.cookingmachine.push({position:vector2(e.width/6+e.width/3,2*e.height-e.height/2-260+16),size:vector2(e.width/3-11,105),fill:!0,color:"white",tag:"cookingmachine",boxmaker:!0}),this.cookingmachine.push({position:vector2(e.width/6+2*e.width/3,2*e.height-e.height/2-260+16),size:vector2(e.width/3-11,105),fill:!0,color:"white",tag:"cookingmachine",boxmaker:!0}),this.cookingmachine.push({position:vector2(e.width/6,2*e.height-e.height/2-260+16),size:vector2(e.width/3-16,100),fill:!0,color:"#144272",tag:"cookingmachine",item:null,boxmaker:!0}),this.cookingmachine.push({position:vector2(e.width/6+e.width/3,2*e.height-e.height/2-260+16),size:vector2(e.width/3-16,100),fill:!0,color:"#144272",tag:"cookingmachine",boxmaker:!0}),this.cookingmachine.push({position:vector2(e.width/6+2*e.width/3,2*e.height-e.height/2-260+16),size:vector2(e.width/3-16,100),fill:!0,color:"#144272",tag:"cookingmachine",item:null,boxmaker:!0}),this.cookingmachine.push({position:vector2(e.width/6,2*e.height-e.height/2-150+32),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"kentanggoreng",flabel:"cookingInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.cookingmachine.push({position:vector2(e.width/6+e.width/3,2*e.height-e.height/2-150+32),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"pizza",flabel:"cookingInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.cookingmachine.push({position:vector2(e.width/6+2*e.width/3,2*e.height-e.height/2-150+32),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"hamburger",flabel:"cookingInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.cookingmachine.push({position:vector2(e.width/6,2*e.height-e.height/2-50+16+32),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",flabel:"cookingInput",tag:"cookingmachine",img:"hotdog",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.cookingmachine.push({position:vector2(e.width/6+e.width/3,2*e.height-e.height/2-50+16+32),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"nachos",flabel:"cookingInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.cookingmachine.push({position:vector2(e.width/6+2*e.width/3,2*e.height-e.height/2-50+16+32),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"pie",flabel:"cookingInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.cookingmachine.push({position:vector2(e.width/6,2*e.height-e.height/2-50+132+32),size:vector2(e.width/3-16,100),flabel:"cookingInput",fill:!0,color:"#205295",tag:"cookingmachine",img:"jagung",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.cookingmachine.push({position:vector2(e.width/6+e.width/3,2*e.height-e.height/2-50+132+32),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"cupcake",flabel:"cookingInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.cookingmachine.push({position:vector2(e.width/6+2*e.width/3,2*e.height-e.height/2-50+132+32),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"nasigoreng",flabel:"cookingInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2})},store:[],generateStoreItem(){const e=this.engine.getCanvasInfo();this.store.push({position:vector2(e.width/6,3*e.height-e.height/2-150-100),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"kentanggoreng",flabel:"storeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.store.push({position:vector2(e.width/6+e.width/3,3*e.height-e.height/2-150-100),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"pizza",flabel:"storeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.store.push({position:vector2(e.width/6+2*e.width/3,3*e.height-e.height/2-150-100),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"hamburger",flabel:"storeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.store.push({position:vector2(e.width/6,3*e.height-e.height/2-50+16-100),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",flabel:"storeInput",tag:"cookingmachine",img:"hotdog",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.store.push({position:vector2(e.width/6+e.width/3,3*e.height-e.height/2-50+16-100),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"nachos",flabel:"storeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.store.push({position:vector2(e.width/6+2*e.width/3,3*e.height-e.height/2-50+16-100),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"pie",flabel:"storeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.store.push({position:vector2(e.width/6,3*e.height-e.height/2-50+132-100),size:vector2(e.width/3-16,100),flabel:"storeInput",fill:!0,color:"#205295",tag:"cookingmachine",img:"jagung",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.store.push({position:vector2(e.width/6+e.width/3,3*e.height-e.height/2-50+132-100),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"cupcake",flabel:"storeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.store.push({position:vector2(e.width/6+2*e.width/3,3*e.height-e.height/2-50+132-100),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"nasigoreng",flabel:"storeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2})},upgradeStore:[],generateUpgradeItem(){const e=this.engine.getCanvasInfo();this.upgradeStore.push({position:vector2(e.width/6,4*e.height-e.height/2-150-150),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"kentanggoreng",flabel:"upgradeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.upgradeStore.push({position:vector2(e.width/6+e.width/3,4*e.height-e.height/2-150-150),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"pizza",flabel:"upgradeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.upgradeStore.push({position:vector2(e.width/6+2*e.width/3,4*e.height-e.height/2-150-150),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"hamburger",flabel:"upgradeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.upgradeStore.push({position:vector2(e.width/6,4*e.height-e.height/2-50+16-150),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",flabel:"upgradeInput",tag:"cookingmachine",img:"hotdog",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.upgradeStore.push({position:vector2(e.width/6+e.width/3,4*e.height-e.height/2-50+16-150),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"nachos",flabel:"upgradeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.upgradeStore.push({position:vector2(e.width/6+2*e.width/3,4*e.height-e.height/2-50+16-150),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"pie",flabel:"upgradeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.upgradeStore.push({position:vector2(e.width/6,4*e.height-e.height/2-50+132-150),size:vector2(e.width/3-16,100),flabel:"upgradeInput",fill:!0,color:"#205295",tag:"cookingmachine",img:"jagung",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.upgradeStore.push({position:vector2(e.width/6+e.width/3,4*e.height-e.height/2-50+132-150),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"cupcake",flabel:"upgradeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.upgradeStore.push({position:vector2(e.width/6+2*e.width/3,4*e.height-e.height/2-50+132-150),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",img:"nasigoreng",flabel:"upgradeInput",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2})},bank:[],generateBankItem(){const e=this.engine.getCanvasInfo();this.bank.push({position:vector2(e.width/6,5*e.height-e.height/2-150-250),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",estimate:50,fee:1e3,neededLevel:1,value:5e4,tag:"cookingmachine",flabel:"borrowBank",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.bank.push({position:vector2(e.width/6+e.width/3,5*e.height-e.height/2-150-250),size:vector2(e.width/3-16,100),estimate:100,fee:2e3,neededLevel:2,value:1e5,fill:!0,color:"#205295",tag:"cookingmachine",flabel:"borrowBank",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.bank.push({position:vector2(e.width/6+2*e.width/3,5*e.height-e.height/2-150-250),size:vector2(e.width/3-16,100),estimate:150,fee:5e3,neededLevel:3,value:15e4,fill:!0,color:"#205295",tag:"cookingmachine",img:"hamburger",flabel:"borrowBank",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.bank.push({position:vector2(e.width/6,5*e.height-e.height/2-50+16-250+35),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",flabel:"borrowBank",tag:"cookingmachine",estimate:200,fee:7e3,neededLevel:4,value:21e4,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.bank.push({position:vector2(e.width/6+e.width/3,5*e.height-e.height/2-50+16-250+35),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",estimate:250,fee:8e3,neededLevel:5,value:25e4,flabel:"borrowBank",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.bank.push({position:vector2(e.width/6+2*e.width/3,5*e.height-e.height/2-50+16-250+35),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",estimate:300,fee:9e3,neededLevel:6,value:3e5,flabel:"borrowBank",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.bank.push({position:vector2(e.width/6,5*e.height-e.height/2-50+132-250+70),size:vector2(e.width/3-16,100),flabel:"borrowBank",fill:!0,color:"#205295",tag:"cookingmachine",estimate:400,fee:12e3,neededLevel:7,value:35e4,scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.bank.push({position:vector2(e.width/6+e.width/3,5*e.height-e.height/2-50+132-250+70),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",estimate:500,fee:15e3,neededLevel:8,value:45e4,flabel:"borrowBank",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2}),this.bank.push({position:vector2(e.width/6+2*e.width/3,5*e.height-e.height/2-50+132-250+70),size:vector2(e.width/3-16,100),fill:!0,color:"#205295",tag:"cookingmachine",estimate:600,fee:2e4,neededLevel:9,value:5e5,flabel:"borrowBank",scaleImage:1,scaleImageMinSpeed:.01,scaleImageDir:1,scaleImageMinValue:.8,scaleImageMaxValue:1.2})},setCookingMachineNull(){for(let e=0;e<3;e++)this.cookingmachine[e+3].item=null;this.cookingMachineItemSelectorPointer=3},getFoodToServe(e){const i={valid:!0,data:[]};let t=0;for(let e=5;e>=3;e--){if(!this.cookingmachine[e].item){i.valid=!1;break}i.data.push(this.cookingmachine[e].item),t+=this.stufStok[this.cookingmachine[e].item].price}return 0!==e.length&&(e.toString()===i.data.toString()&&t)},prive:0,payingPriveTime:0,lastBorrowingTime:null,borrowTimeLimit:6e5,newBorrowMoneyData(e){if(this.lastBorrowingTime&&this.lastBorrowingTime-(new Date).getTime()<this.borrowTimeLimit)console.log("Peminjaman tidak berhasil dilakukan, time limit! 1 jam");else{if(this.prive&&this.stats.money>=this.prive){const e=this.prive;this.prive-=this.stats.money,this.stats.money-=e,this.payingPriveTime=0}this.stats.money+=e.value,this.prive=this.prive+e.value+e.fee,this.payingPriveTime+=e.estimate,this.lastBorrowingTime=(new Date).getTime()}},init(){this.generateHeaderUi(),this.generateTables(),this.generateNavigationButtons(),this.generateCookingMachine(),this.generateStoreItem(),this.generateUpgradeItem(),this.generateBankItem(),this.buttons=this.tables.concat(this.navigations,this.cookingmachine,this.store,this.upgradeStore,this.bank)},changeroom:!1,changeroomoptions:{bottom:{dir:-1,max:-577},top:{dir:1,max:0},market:{dir:-1,max:-1154},backchef:{dir:1,max:-577},upstore:{dir:-1,max:-1731},backmarket:{dir:1,max:-1154},gobank:{dir:-1,max:-2310.5}},changeroomspeed:50,changeroomdir:null,delayMax:2,delaySpeed:.1,delay:4,newAchiveStat:(e,i,t)=>(save(),{position:e,label:i,target:t,dir:e.angle(t),size:vector2(32,32),speed:500}),updateLevel(){let e=0;count=0;for(let i in this.stufStok)e+=this.stufStok[i].leftMax,count+=10;e=Math.round(e/count),this.stats.levelup=e,GamePix.updateLevel(e)},update(){if(!this.run)return;if(this.changeroom&&(this.engine.viewport.y+=this.changeroomspeed*this.changeroomoptions[this.changeroomdir].dir,"bottom"===this.changeroomdir||"market"===this.changeroomdir||"upstore"===this.changeroomdir||"gobank"===this.changeroomdir?this.engine.viewport.y<=this.changeroomoptions[this.changeroomdir].max&&(this.changeroom=!1,this.engine.viewport.y=this.changeroomoptions[this.changeroomdir].max):this.engine.viewport.y>=this.changeroomoptions[this.changeroomdir].max&&(this.changeroom=!1,this.engine.viewport.y=this.changeroomoptions[this.changeroomdir].max)),this.cursor.update(this),this.prive&&(this.payingPriveTime-=this.engine.delta,this.payingPriveTime<=0)){if(this.stats.money<this.prive)return this.gameOver("Game over, failure to pay debt");this.stats.money-=this.prive,this.prive=0,this.payingPriveTime=0}const e=[];if(this.statsAchieves.forEach(e=>{e.position=e.position.add(vector2(-Math.cos(e.dir)*e.speed*this.engine.delta,-Math.sin(e.dir)*e.speed*this.engine.delta)),e.size=e.size.subs(vector2(1,1)),e.target.subs(e.position).mag()<10&&(e.disapper=!0)}),this.statsAchieves.forEach(i=>{i.disapper||e.push(i)}),this.statsAchieves=e,this.delay<this.delayMax)return this.delay+=this.delaySpeed,void(this.delay>=this.delayMax&&(this.delay=this.delayMax));for(let e=0;e<this.buttons.length;e++){const i=this.buttons[e];if(!i.id||"backgroundtable"!==i.id){if(i.table&&(i.waitTime-=this.engine.delta/2,i.waitTime<0)){const e=this.engine.getCanvasInfo();this.stats.timeup+=1,i.visitorId=i.getVisitorId(),i.objective=this.generateCustomerNeed(),i.waitTimeReset(!1),this.statsAchieves.push(this.newAchiveStat(i.position,"timeup",vector2(7*e.width/10,24))),this.engine.assets.audio.points.paused&&this.engine.assets.audio.points.play()}if(this.tablehovered=this.engine.rectMouseHovered(i.position,i.size),this.tablepressed=this.engine.inputs.mouse.left.pressed&&this.tablehovered,this.tablepressed){if(console.log("button pressed:",i),this.engine.assets.audio.tap.play(),i.id&&"quitgame"===i.id)save(),this.engine.pause(),showMainMenu();else{if(i.id&&"chef"===i.id){console.log("Heiii, iam ur chef!"),this.changeroom=!0,this.changeroomdir="bottom",this.state=2,this.delay=0;break}if(i.id&&"backchef"===i.id){console.log("Heiii, iam ur chef!"),this.changeroom=!0,this.changeroomdir="backchef",this.state=2,this.delay=0;break}if(i.id&&"receptionist"===i.id){if(1===this.state)return;console.log("Heiii, iam the receptionist!"),this.changeroom=!0,this.changeroomdir="top",this.state=1,this.delay=0;break}if(i.id&&"servebutton"===i.id){this.changeroom=!0,this.changeroomdir="top",this.state=4===this.state?1:3,this.delay=0;break}if(i.id&&"trash"===i.id){this.delay=0,4===this.state?(this.changeroom=!0,this.changeroomdir="backchef",this.state=2):this.setCookingMachineNull();break}if(i.flabel&&"cookingInput"===i.flabel){i.imageScale=2,!this.cookingmachine[this.cookingMachineItemSelectorPointer].item&&this.stufStok[i.img].left>0?(this.cookingmachine[this.cookingMachineItemSelectorPointer].item=i.img,this.cookingMachineItemSelectorPointer+=1,6===this.cookingMachineItemSelectorPointer&&(this.cookingMachineItemSelectorPointer=3),this.stufStok[i.img].left-=1):(i.color="red",i.false=!0),this.delay=0;break}if(i.flabel&&"storeInput"===i.flabel){i.imageScale=2,this.stats.money>=this.stufStok[i.img].storePrice&&this.stufStok[i.img].left<this.stufStok[i.img].leftMax&&(this.stats.money-=this.stufStok[i.img].storePrice,this.stufStok[i.img].left+=1),this.delay=0;break}if(i.flabel&&"upgradeInput"===i.flabel){i.imageScale=2,this.stats.money>=this.stufStok[i.img].upgradePrice&&(this.stats.money-=this.stufStok[i.img].upgradePrice,this.stufStok[i.img].leftMax+=this.stufStok[i.img].upgradeValue,this.updateLevel()),this.delay=0;break}if(i.flabel&&"borrowBank"===i.flabel){i.imageScale=2,this.stats.levelup>=i.neededLevel&&this.newBorrowMoneyData({fee:i.fee,estimate:i.estimate,value:i.value}),this.delay=0;break}if(i.id&&"market"===i.id){console.log("Opening Market"),this.changeroom=!0,this.changeroomdir="market",this.state=4,this.delay=0;break}if(i.id&&"levelup"===i.id){this.changeroom=!0,this.changeroomdir=5===this.state?"backmarket":"upstore",this.state=5===this.state?4:5,this.delay=0;break}if(i.id&&"bank"===i.id){this.changeroom=!0,this.changeroomdir=6===this.state?"backchef":"gobank",this.state=6===this.state?2:6,this.delay=0;break}if(3===this.state){const t=this.getFoodToServe(i.objective),a=this.engine.getCanvasInfo();t?(i.color="green",i.expression="senang",this.statsAchieves.push(this.newAchiveStat(i.position,"senang",vector2(3*a.width/10,24))),this.statsAchieves.push(this.newAchiveStat(i.position,"moneyicon",vector2(1*a.width/10,24))),this.stats.happy+=1,GamePix.updateScore(this.stats.happy),this.stats.money+=t,1===i.powerUp?this.tables.forEach((t,a)=>{e!==a&&(t.waitTime+=i.powerUpValue)}):2===i.powerUp?this.stats.money+=1e3*i.powerUpValue:3===i.powerUp?this.stats.happy+=i.powerUpValue:4===i.powerUp?this.stats.anger>i.powerUpValue?this.stats.anger-=i.powerUpValue:this.stats.anger=0:5===i.powerUp&&(this.stats.timeup>i.powerUpValue?this.stats.timeup-=i.powerUpValue:this.stats.timeup=0),i.waitTimeReset(!0)):(i.color="red",i.expression="marah",this.statsAchieves.push(this.newAchiveStat(i.position,"marah",vector2(5*a.width/10,24))),this.stats.anger+=1,i.waitTimeReset(!1)),this.engine.assets.audio.points.play(),i.visitorId=i.getVisitorId(),i.objective=this.generateCustomerNeed(),i.getPowerUp(),this.setCookingMachineNull(),this.state=1}else 1===this.state&&(i.showItem=!0);this.delay=0,i.bigButtonSize&&(i.size=i.bigButtonSize)}break}if(this.tablehovered){if("cookingmachine"===i.tag){"cookingInput"!==i.flabel&&"storeInput"!==i.flabel&&"upgradeInput"!==i.flabel&&"borrowBank"!==i.flabel||(i.color="#144272",i.false=!1,i.imageScale=1);continue}if(!i.id){i.color="#144272",i.normalButtonSize&&(i.size=i.normalButtonSize);continue}if("receptionist"===i.id&&1===this.state||"chef"===i.id&&2===this.state)break;i.color="#144272";break}"cookingmachine"!==i.tag?i.id?i.color="#205295":(i.color="#205295",i.normalButtonSize&&(i.size=i.normalButtonSize)):"cookingInput"!==i.flabel&&"storeInput"!==i.flabel&&"upgradeInput"!==i.flabel&&"borrowBank"!==i.flabel||(i.color="#205295",i.false=!1,i.imageScale=1)}}let i=0;if(this.stats.money<=15e3){for(let e in this.stufStok)i+=this.stufStok[e].left;i||this.gameOver("Game over, your restaurant goes bankrupt!")}},draw(){this.run&&(this.engine.g.box2d(vector2(this.engine.getCanvasInfo().width/2,68),vector2(this.engine.getCanvasInfo().width,1),"white",!0),this.headerUi.forEach(e=>{if(e.hideBox2d||this.engine.g.box2d(e.position,e.size,e.color,!0),e.img)this.engine.g.sprite(this.engine.assets.img[e.img],e.position,e.size.scale(e.scaleImage||1));else if(e.text){this.engine.g.font="10px gamefont",this.engine.g.textAlign="center",this.engine.g.fillStyle="white";let i=e.isMoney?`Rp ${getPrice(this.stats[e.text])}`:getPrice(this.stats[e.text]);this.engine.g.fillText(i,e.position.x,e.position.y)}e.scaleImage&&(e.scaleImage-=e.scaleImageMinSpeed*e.scaleImageDir,(e.scaleImage<=e.scaleImageMinValue||e.scaleImage>=e.scaleImageMaxValue)&&(e.scaleImageDir*=-1))}),this.engine.g.box2d(vector2(this.engine.getCanvasInfo().width/2,8.97*this.engine.getCanvasInfo().height/10),vector2(this.engine.getCanvasInfo().width,1),"white",!0),this.tables.forEach(e=>{if(!e.showItem){this.engine.g.sprite(this.engine.assets.img[e.visitorId],e.position,vector2(32*e.scaleImage,32*e.scaleImage));const i=Math.round(e.waitTime);return this.engine.g.sprite(this.engine.assets.img[i<10?"timeup1":"timeup"],vector2(e.position.x-12,e.position.y+32),vector2(16*e.scaleImage,16*e.scaleImage)),this.engine.g.font="11px gamefont",this.engine.g.textAlign="left",this.engine.g.fillStyle=i<10?"red":"white",this.engine.g.fillText(`${i}s`,e.position.x,e.position.y+38),this.engine.g.textAlign="center",this.engine.g.fillStyle="white",1===e.powerUp?this.engine.g.fillText(`+ ${getPrice(e.powerUpValue)}s`,e.position.x,e.position.y+38+20):2===e.powerUp?this.engine.g.fillText(`+ Rp ${getPrice(e.powerUpValue)}.000`,e.position.x,e.position.y+38+20):3===e.powerUp?(this.engine.g.fillText(`+ ${getPrice(e.powerUpValue)}`,e.position.x,e.position.y+38+20),this.engine.g.sprite(this.engine.assets.img.senang,vector2(e.position.x+20,e.position.y+38+16),vector2(16*e.scaleImage,16*e.scaleImage))):4===e.powerUp?(this.engine.g.fillText(`- ${getPrice(e.powerUpValue)}`,e.position.x,e.position.y+38+20),this.engine.g.sprite(this.engine.assets.img.marah,vector2(e.position.x+20,e.position.y+38+16),vector2(16*e.scaleImage,16*e.scaleImage))):5===e.powerUp&&(this.engine.g.fillText(`- ${getPrice(e.powerUpValue)}`,e.position.x,e.position.y+38+20),this.engine.g.sprite(this.engine.assets.img.timeup,vector2(e.position.x+20,e.position.y+38+16),vector2(16*e.scaleImage,16*e.scaleImage))),e.showedExpressionLeftTime-=1,e.showedExpressionLeftTime<=0&&(e.expression=null,e.showedExpressionLeftTime=e.defaultShowedExpressionLeftTime),e.scaleImage-=e.scaleImageMinSpeed*e.scaleImageDir,void((e.scaleImage<=e.scaleImageMinValue||e.scaleImage>=e.scaleImageMaxValue)&&(e.scaleImageDir*=-1))}e.objective.forEach((i,t)=>{this.engine.g.sprite(this.engine.assets.img[i],vector2(e.position.x,e.position.y+e.size.y/3-e.size.y/3*t+1),vector2(24,24)),e.showedTimeLeft-=1,e.showedTimeLeft<=0&&(e.showItem=!1,e.showedTimeLeft=e.defaultShowedTimeLeft)})}),this.engine.g.box2d(vector2(this.engine.getCanvasInfo().width/2,this.engine.getCanvasInfo().height+2.97),vector2(this.engine.getCanvasInfo().width,1),"white",!0),this.engine.g.box2d(vector2(this.engine.getCanvasInfo().width/2,2*this.engine.getCanvasInfo().height-60),vector2(this.engine.getCanvasInfo().width,1),"white",!0),this.navigations.forEach(e=>{let i=this.engine.assets.img[e.id];"trash"===e.id&&4===this.state?i=this.engine.assets.img.chef:"servebutton"===e.id&&4===this.state?i=this.engine.assets.img.receptionist:"levelup"===e.id&&5===this.state&&(i=this.engine.assets.img.market),this.engine.g.box2d(e.position,e.size,e.color,e.fill),this.engine.g.sprite(i,e.position,vector2(32,32).scale(e.scaleImage||1)),e.scaleImage&&(e.scaleImage-=e.scaleImageMinSpeed*e.scaleImageDir,(e.scaleImage<=e.scaleImageMinValue||e.scaleImage>=e.scaleImageMaxValue)&&(e.scaleImageDir*=-1))}),this.engine.g.box2d(vector2(this.engine.getCanvasInfo().width/2,2*this.engine.getCanvasInfo().height*9/10),vector2(this.engine.getCanvasInfo().width,1),"white",!0),this.cookingmachine.forEach(e=>{(e.boxmaker||e.false)&&this.engine.g.box2d(e.position,e.size.scale(.5),e.color,e.fill);let i=e.imageScale||1;2!==i&&(i=e.scaleImage||1),(e.img||e.item)&&(e.img&&(this.engine.g.font="11px gamefont",this.engine.g.textAlign="center",this.engine.g.fillStyle="white",this.engine.g.fillText(`x${this.stufStok[e.img].left}`,e.position.x,e.position.y+38)),this.engine.g.sprite(this.engine.assets.img[e.img||e.item],e.position,vector2(32,32).scale(i))),e.scaleImage&&(e.scaleImage-=e.scaleImageMinSpeed*e.scaleImageDir,(e.scaleImage<=e.scaleImageMinValue||e.scaleImage>=e.scaleImageMaxValue)&&(e.scaleImageDir*=-1))}),this.engine.g.box2d(vector2(this.engine.getCanvasInfo().width/2,3*this.engine.getCanvasInfo().height*9.01/10),vector2(this.engine.getCanvasInfo().width,1),"white",!0),this.store.forEach(e=>{(e.boxmaker||e.false)&&this.engine.g.box2d(e.position,e.size,e.color,e.fill);let i=e.imageScale||1;2!==i&&(i=e.scaleImage||1),(e.img||e.item)&&(e.img&&(this.engine.g.font="11px gamefont",this.engine.g.textAlign="center",this.engine.g.fillStyle="white",this.engine.g.fillText(`Rp ${getPrice(this.stufStok[e.img].storePrice)}`,e.position.x,e.position.y+38),this.engine.g.fillText(`Stok: ${this.stufStok[e.img].left}/${this.stufStok[e.img].leftMax}`,e.position.x,e.position.y+54)),this.engine.g.sprite(this.engine.assets.img[e.img||e.item],e.position,vector2(32*i,32*i))),e.scaleImage&&(e.scaleImage-=e.scaleImageMinSpeed*e.scaleImageDir,(e.scaleImage<=e.scaleImageMinValue||e.scaleImage>=e.scaleImageMaxValue)&&(e.scaleImageDir*=-1))}),this.engine.g.box2d(vector2(this.engine.getCanvasInfo().width/2,3*this.engine.getCanvasInfo().height-124),vector2(this.engine.getCanvasInfo().width,1),"white",!0),this.engine.g.box2d(vector2(this.engine.getCanvasInfo().width/2,4*this.engine.getCanvasInfo().height-250),vector2(this.engine.getCanvasInfo().width,1),"white",!0),this.upgradeStore.forEach(e=>{(e.boxmaker||e.false)&&this.engine.g.box2d(e.position,e.size,e.color,e.fill);let i=e.imageScale||1;2!==i&&(i=e.scaleImage||1),(e.img||e.item)&&(e.img&&(this.engine.g.font="11px gamefont",this.engine.g.textAlign="center",this.engine.g.fillStyle="white",this.engine.g.fillText(`Rp ${getPrice(this.stufStok[e.img].upgradePrice)}`,e.position.x,e.position.y+38),this.engine.g.fillText(`maxStok += ${this.stufStok[e.img].upgradeValue}`,e.position.x,e.position.y+54),this.engine.g.fillText(`maxStok: ${this.stufStok[e.img].leftMax}`,e.position.x,e.position.y+54+12)),this.engine.g.sprite(this.engine.assets.img[e.img||e.item],e.position,vector2(32*i,32*i))),e.scaleImage&&(e.scaleImage-=e.scaleImageMinSpeed*e.scaleImageDir,(e.scaleImage<=e.scaleImageMinValue||e.scaleImage>=e.scaleImageMaxValue)&&(e.scaleImageDir*=-1))}),this.engine.g.box2d(vector2(this.engine.getCanvasInfo().width/2,4*this.engine.getCanvasInfo().height-184),vector2(this.engine.getCanvasInfo().width,1),"white",!0),this.bank.forEach(e=>{(e.boxmaker||e.false)&&this.engine.g.box2d(e.position,e.size,e.color,e.fill);let i=e.imageScale||1;2!==i&&(i=e.scaleImage||1),this.engine.g.font="14px gamefont",this.engine.g.textAlign="center",this.engine.g.fillStyle="white",this.engine.g.fillText(`+ Rp ${getPrice(e.value)}`,e.position.x,e.position.y+38),this.engine.g.fillText(`Level >= ${e.neededLevel}`,e.position.x,e.position.y+54+12),this.engine.g.fillText(`Fee Rp ${getPrice(e.fee||1e3)}`,e.position.x,e.position.y+54+34),this.engine.g.fillText(`Estimate ${getPrice(e.estimate||1e3)}s`,e.position.x,e.position.y+54+54),this.engine.g.sprite(this.engine.assets.img.moneyicon,e.position,vector2(32*i,32*i)),e.scaleImage&&(e.scaleImage-=e.scaleImageMinSpeed*e.scaleImageDir,(e.scaleImage<=e.scaleImageMinValue||e.scaleImage>=e.scaleImageMaxValue)&&(e.scaleImageDir*=-1))}),this.statsAchieves.forEach(e=>{e.disapper||this.engine.g.sprite(this.engine.assets.img[e.label],e.position,e.size)}),this.engine.mobileDevice||this.cursor.draw(this))}})),engine.init(()=>{GamePix.loaded()});
</script>
